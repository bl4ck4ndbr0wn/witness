{"version":3,"sources":["../../../../../src/services/demux/updaters/witness/claim.js"],"names":["createClaim","state","payload","blockInfo","context","Profile","profile","findOne","handle","data","claimant","exec","newClaim","content","witnesses","claimConfirmed","category","education","unshift","save","experience","skills","err","console","error"],"mappings":";;;;;;;AAAA,eAAeA,WAAf,CAA2BC,KAA3B,EAAkCC,OAAlC,EAA2CC,SAA3C,EAAsDC,OAAtD,EAA+D;AAC7D,QAAMC,OAAO,GAAGJ,KAAK,CAACK,OAAtB;;AACA,MAAI;AACF,QAAIA,OAAO,GAAG,MAAMD,OAAO,CAACE,OAAR,CAAgB;AAClCC,MAAAA,MAAM,EAAEN,OAAO,CAACO,IAAR,CAAaC;AADa,KAAhB,EAEjBC,IAFiB,EAApB;AAIA,UAAMC,QAAQ,GAAG;AACfF,MAAAA,QAAQ,EAAER,OAAO,CAACO,IAAR,CAAaC,QADR;AAEfG,MAAAA,OAAO,EAAEX,OAAO,CAACO,IAAR,CAAaI,OAFP;AAGfC,MAAAA,SAAS,EAAEZ,OAAO,CAACO,IAAR,CAAaK,SAHT;AAIfC,MAAAA,cAAc,EAAE;AAJD,KAAjB;;AAOA,QAAIb,OAAO,CAACO,IAAR,CAAaO,QAAb,KAA0B,WAA9B,EAA2C;AACzCV,MAAAA,OAAO,CAACW,SAAR,CAAkBC,OAAlB,CAA0BN,QAA1B;AAEA,YAAMN,OAAO,CAACa,IAAR,EAAN;AACD,KAJD,MAIO,IAAIjB,OAAO,CAACO,IAAR,CAAaO,QAAb,KAA0B,YAA9B,EAA4C;AACjDV,MAAAA,OAAO,CAACc,UAAR,CAAmBF,OAAnB,CAA2BN,QAA3B;AAEA,YAAMN,OAAO,CAACa,IAAR,EAAN;AACD,KAJM,MAIA,IAAIjB,OAAO,CAACO,IAAR,CAAaO,QAAb,KAA0B,QAA9B,EAAwC;AAC7CV,MAAAA,OAAO,CAACe,MAAR,CAAeH,OAAf,CAAuBN,QAAvB;AAEA,YAAMN,OAAO,CAACa,IAAR,EAAN;AACD;AACF,GAzBD,CAyBE,OAAOG,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF;;eAEctB,W","sourcesContent":["async function createClaim(state, payload, blockInfo, context) {\n  const Profile = state.profile;\n  try {\n    let profile = await Profile.findOne({\n      handle: payload.data.claimant\n    }).exec();\n\n    const newClaim = {\n      claimant: payload.data.claimant,\n      content: payload.data.content,\n      witnesses: payload.data.witnesses,\n      claimConfirmed: true\n    };\n\n    if (payload.data.category === \"Education\") {\n      profile.education.unshift(newClaim);\n\n      await profile.save();\n    } else if (payload.data.category === \"Experience\") {\n      profile.experience.unshift(newClaim);\n\n      await profile.save();\n    } else if (payload.data.category === \"Skills\") {\n      profile.skills.unshift(newClaim);\n\n      await profile.save();\n    }\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nexport default createClaim;\n"],"file":"claim.js"}